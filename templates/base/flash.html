<!-- Flash Messages Container -->
<div class="flash-messages position-fixed top-0 end-0 p-3" style="z-index: 1100; max-width: 400px;">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="alert alert-{{ category }} alert-dismissible fade show flash-message mb-3" role="alert">
        <div class="d-flex align-items-center">
            <div class="flash-icon me-3">
                {% if category == 'success' %}
                <i class="fas fa-check-circle fa-2x"></i>
                {% elif category == 'danger' %}
                <i class="fas fa-exclamation-circle fa-2x"></i>
                {% elif category == 'warning' %}
                <i class="fas fa-exclamation-triangle fa-2x"></i>
                {% elif category == 'info' %}
                <i class="fas fa-info-circle fa-2x"></i>
                {% else %}
                <i class="fas fa-bell fa-2x"></i>
                {% endif %}
            </div>
            <div class="flash-text">{{ message | safe }}</div>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
</div>

<!-- Styles for Flash Messages -->
<style>
    /* Flash Messages */
    .flash-message {
        border-left: 5px solid;
        animation: slideIn 0.5s forwards, fadeOut 0.5s forwards 4.5s;
        opacity: 0;
        transform: translateX(100%);
    }

    .flash-message.show {
        animation: slideIn 0.5s forwards;
    }

    @keyframes slideIn {
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    @keyframes fadeOut {
        to {
            opacity: 0;
            transform: translateX(100%);
        }
    }

    /* Category-specific styles */
    .alert-success {
        border-left-color: #28a745;
        background-color: rgba(40, 167, 69, 0.15);
    }

    .alert-danger {
        border-left-color: #dc3545;
        background-color: rgba(220, 53, 69, 0.15);
    }

    .alert-warning {
        border-left-color: #ffc107;
        background-color: rgba(255, 193, 7, 0.15);
    }

    .alert-info {
        border-left-color: #17a2b8;
        background-color: rgba(23, 162, 184, 0.15);
    }

    .flash-icon {
        min-width: 30px;
        text-align: center;
    }

    /* Responsive adjustments */
    @media (max-width: 576px) {
        .flash-messages {
            width: 100%;
            max-width: none;
            padding: 10px;
        }

        .flash-message {
            width: 100%;
        }
    }
</style>